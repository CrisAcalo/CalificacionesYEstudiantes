<div class="edit-student-container">

  <p-card title="Editar Estudiante" class="edit-student-card">
    <h2>Editar Estudiante</h2>
    <form (ngSubmit)="guardarEstudiante()">
      <p-floatlabel variant="in" class="form-group">
        <input pInputText id="nombre" [(ngModel)]="estudiante.nombre" name="nombre" required />
        <label for="nombre">Nombre</label>
      </p-floatlabel>
      <p-floatlabel variant="in" class="form-group">
        <input pInputText id="apellido" [(ngModel)]="estudiante.apellido" name="apellido" required />
        <label for="apellido">Apellido</label>
      </p-floatlabel>

      <p-floatlabel variant="in" class="form-group">
        <input pInputText id="email" [(ngModel)]="estudiante.email" name="email" required />
        <label for="email">Email</label>
      </p-floatlabel>

      <div class="form-group">
        <label for="fechaNacimiento">Fecha de Nacimiento: </label>
        <p-datepicker id="fechaNacimiento" [(ngModel)]="estudiante.fechaNacimiento" name="fechaNacimiento" required
          showIcon="true"></p-datepicker>
      </div>

      <p-button type="submit" label="Guardar Estudiante" icon="pi pi-save"
        class="p-button-primary buttonForm"></p-button>
    </form>
  </p-card>
</div>
<div class="edit-nota-container">

  <p-card title="Notas del Estudiante" class="student-notes-card">
    <h2>{{ isEditing ? 'Editar Nota' : 'Añadir Nota' }}</h2>

    <form (ngSubmit)="guardarNota()">
      <p-floatlabel variant="in" class="form-group">
        <input pInputText id="asignatura" [(ngModel)]="nuevaNota.asignatura" name="asignatura" required />
        <label for="asignatura">Asignatura</label>
      </p-floatlabel>

      <p-floatlabel variant="in" class="form-group">
        <input pInputText type="number" id="nota" [(ngModel)]="nuevaNota.nota" name="nota" required />
        <label for="nota">Nota</label>
      </p-floatlabel>

      <div class="form-group">
        <label for="fechaRegistro">Fecha de Registro: </label>
        <p-datepicker id="fechaRegistro" [(ngModel)]="nuevaNota.fechaRegistro" name="fechaRegistro" required
          showIcon="true"></p-datepicker>
      </div>

      <div class="button-group">
        <p-button type="submit" [label]="isEditing ? 'Guardar Edición' : 'Crear Nota'" icon="pi pi-check"
          class="p-button-success"></p-button>
        <p-button *ngIf="isEditing" type="button" (click)="cancelarEdicion()" label="Cancelar Edición"
          icon="pi pi-times" class="p-button-warning"></p-button>
      </div>
    </form>
  </p-card>

  <p-card title="Notas Guardadas" class="saved-notes-card">
    <h2>Notas</h2>
    <p-table [value]="notas">
      <ng-template pTemplate="header">
        <tr>
          <th>Asignatura</th>
          <th>Nota</th>
          <th>Fecha de Registro</th>
          <th>Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-nota>
        <tr>
          <td>{{ nota.asignatura }}</td>
          <td>{{ nota.nota }}</td>
          <td>{{ nota.fechaRegistro | date:'yyyy-MM-dd' }}</td>
          <td>
            <div class="button-group-nota">
              <button pButton icon="pi pi-pencil" (click)="editarNota(nota)" tooltip="Editar"
                styleClass="p-button-secondary"></button>
              <button *ngIf="nota.id" pButton icon="pi pi-trash" (click)="eliminarNota(nota.id)" tooltip="Eliminar"
                styleClass="p-button-danger"></button>

            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>
